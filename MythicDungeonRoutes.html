<html>

    <head>

        <title>Mythic Dungeon Routes</title>

        <script type="text/javascript">
            const dungeons = {
                 "Dratnos 2.5": {
                    "De Other Side": {
                        "noskips": "OjuVTxKGA",
                        "skips": "D-Kj-AAws"
                    },
                    "Halls of Attonement": {
                        "noskips": "P2hgwjM3j",
                        "skips": "B59zIp5f1"
                    },
                    "Mists of Tirna Scythe": {
                        "default": "PmFxlZ7Ti"
                    },
                    "Necrotic Wake": {
                        "noskips": "9b-NhPIgD",
                        "skips": "pNvx--5Mt"
                    },
                    "Plaguefall": {
                        "noskips": "1WdLtfgD-",
                        "skips": "Wk8IHMkAT"
                    },
                    "Sanguine Depths": {
                        "noskips": "YICu0oaaY",
                        "skips": "ImyfH0Rtw"
                    },
                    "Spires of Ascension": {
                        "default": "dpqC8No6d"
                    },
                    "Theatre of Pain": {
                        "default": "JSImuzszP"
                    }
                },
                "Dratnos 2.4": {
                    "De Other Side": {
                        "noskips": "Nt-Lztime",
                        "skips": "Zd0LxNdnd"
                    },
                    "Halls of Attonement": {
                        "noskips": "ImmD9xTnJ",
                        "skips": "6AyCo4zhU"
                    },
                    "Mists of Tirna Scythe": {
                        "default": "Zo6e0BoDs"
                    },
                    "Necrotic Wake": {
                        "noskips": "fVnj_1bWa",
                        "skips": "wRa3YLNDR"
                    },
                    "Plaguefall": {
                        "noskips": "uopo5bcrP",
                        "skips": "fUmPyMtHq"
                    },
                    "Sanguine Depths": {
                        "noskips": "ouecTw9N3",
                        "skips": "y_lv02bok"
                    },
                    "Spires of Ascension": {
                        "default": "r2L9WZnR7"
                    },
                    "Theatre of Pain": {
                        "default": "9WhnOmpMO"
                    },
                },
                "Petko - Sanguine & Storming": {
                    "De Other Side": {
                        "default": "lvA-rwgwR"
                    },
                    "Halls of Attonement": {
                        "default": "rU_v7wmiG"
                    },
                    "Mists of Tirna Scythe": {
                        "default": "guzLbNud0"
                    },
                    "Necrotic Wake": {
                        "default": "UZvXzRtQR"
                    },
                    "Plaguefall": {
                        "default": "4AjkC4U91"
                    },
                    "Sanguine Depths": {
                        "default": "XhNCyuoXG"
                    },
                    "Spires of Ascension": {
                        "default": "dpqC8No6d"
                    },
                    "Theatre of Pain": {
                        "default": "C59vgE4fP"
                    },
                }
            };

            function loadRoute(routeId) {
                var routeLink = "https://wago.io/".concat(routeId).concat("/embed.html");
                document.getElementById("map").src = routeLink;
            }

            function toggleVisibility(textElement, visibleElement) {
                textElement.innerText = (textElement.innerText === "\u2BC8") ? "\u2BC6" : "\u2BC8";
                visibleElement.style.display = (visibleElement.style.display === "none") ? "block" : "none";
            }

            function populateNav() {
                document.getElementById("navbar").appendChild(populateNavWithVersions(navbar, dungeons));
            }

            function populateNavWithVersions(element, versions) {
                var div = document.createElement("DIV");
                Object.keys(versions).sort().reverse().forEach( version => {
                    var contentDiv = populateNavWithDungeons(versions[version]);
                    var headerDiv = populateNavWithSection(version, contentDiv);
                    div.appendChild(headerDiv);
                    div.appendChild(contentDiv);
                });
                return div;
            }

            function populateNavWithSection(version, contentDiv) {
                var span = document.createElement("SPAN");
                span.innerText = "\u2BC8";
                span.classList.add("navHeader");

                var div = document.createElement("DIV");
                div.classList.add("navHeader");
                div.onclick = function() { toggleVisibility(span, contentDiv) };
                div.appendChild(span);
                div.appendChild(document.createTextNode(version));
                return div;
            }

            function populateNavWithDungeons(dungeons) {
                var div = document.createElement("DIV");
                div.style.display = "none";
                Object.keys(dungeons).sort().forEach( dungeonName => {
                    div.appendChild(document.createTextNode(dungeonName));
                    div.appendChild(document.createElement("BR"));
                    div.appendChild(populateNavWithRoutes(dungeons[dungeonName]));
                });
                return div;
            }

            function populateNavWithRoutes(routes) {
                var div = document.createElement("DIV");
                div.classList.add("navSection");
                Object.keys(routes).sort().forEach( routeName => {
                    var link = document.createElement("A");
                    link.innerText = routeName;
                    link.href = "#".concat(routes[routeName]);
                    link.onclick = function() { loadRoute(routes[routeName]); }
                    div.appendChild(link);
                    div.appendChild(document.createElement("BR"));
                });
                div.appendChild(document.createElement("BR"));
                return div;
            }

        </script>

        <style>

            #navbar {
                width: 15em;
            }

            #map {
                flex-grow: 1;
                border: none;
                height: 100%;
            }

            .navHeader {
                background-color: maroon;
            }

            .navSection {
                margin-left: 1em;
            }

            a {
                color: burlywood;
            }

            body {
                display: flex;
                flex-direction: row;

            }

            span {
                margin-right: 1em;
            }

            * {
                margin: 0em;
                background-color: #212121;
                color: ghostwhite;
                font-family: Arial;
                font-size: small;
            }

        </style>

    </head>
    <body onload="populateNav()">
        <nav id="navbar"></nav>
        <iframe id="map" src=""></iframe>
    </body>

</html>
